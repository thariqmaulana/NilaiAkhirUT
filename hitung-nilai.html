<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nilai Akhir UT</title>
  <style>
    body > div:first-child {
      text-align: center;
    }    
    #formulirTuton {
      display: none;
    }
    button, input[type="submit"] {
      padding: 1%;
      margin: 1%;
    }
    body { 
      background-color: yellow;
    }
    #help {
      display: none;
      margin: auto;
    }
    #helper {
      display: none;
    }
  </style>
</head>
<body>
  <div>
    <h1>Apa Sistem Belajar Yang Anda Ikuti?</h1>
  
    <div class="btn">
      <button class="button" value="Tuton">Tuton</button>
      <button class="button" value="Tuweb">Tuweb</button>
      <button class="button" value="TMK">TMK</button>
      <button class="button" value="TTM">TTM</button>
    </div>
  <br>
  <form id="formulirTuton" action="">
    <label for="tutorial">Nilai <span id="lab">Tutorial</span> :</label>
    <input type="number" id="tutorial" max="100" min="0">
    <br><br>
    <label for="uas">Nilai UAS :</label>
    <input type="number" id="uas" max="100" min="0">
    <br> <br>
    <input type="submit" value="Hitung Nilai Akhir"></input>
    <br>
  </form>
  <form action="">
    <button id="help">Saya tidak mengetahui cara menghitung nilai UAS</button>
  </form>
  <br>
  <form action="" id="helper">
    <label for="" >Jumlah benar:</label>
    <input id="jumlahBenar" type="number" max="50" min="0">
    <br> <br>
    <label for="" >Jumlah Soal:</label>
    <input id="jumlahSoal" type="number" max="50" min="30">
    <br> <br>
    <button id="hitung">Hitung Nilai UAS</button>
  </form>
  </div>
</body>
<script>
    let btn = ""
    let lab = ""

  Array.from(document.getElementsByClassName("button")).forEach(button => {
    button.addEventListener("click", () => {
      btn = button.value
      lab = button.value
      document.getElementById("lab").textContent = lab;
    
      document.getElementById("help").style.display = "block"
      document.getElementById("formulirTuton").style.display = "block"
      console.info("tesclick")
  
// document.getElementById("formulirTuton").removeEventListener("submit", () => {
//         document.getElementById("formulirTuton").reset()
//       })
  
    })
    
  });

  document.getElementById("formulirTuton").addEventListener("submit", (event) => {
      event.preventDefault();
      const nilaiUasAsli = parseInt(document.getElementById("uas").value);
      const nilaiUas = nilaiUasAsli  / 10 * 7;
    
      if (btn == "Tuton" ) {
      const nilaiTutorial = parseInt(document.getElementById("tutorial").value) / 10 * 3
      if (nilaiUasAsli > Math.round(nilaiTutorial + nilaiUas)) {
        alert(`Nilai Akhir Anda ${nilaiUasAsli}`)
      } else {
        alert(`Nilai Akhir Anda ${Math.round(nilaiTutorial + nilaiUas)}`)
      }
      console.info("tuton")
    } else if (btn == "Tuweb") {
      const nilaiTutorial = parseInt(document.getElementById("tutorial").value) / 10 * 5
      if (nilaiUasAsli > Math.round(nilaiTutorial + nilaiUas)) {
        alert(`Nilai Akhir Anda ${nilaiUasAsli}`)
      } else {
        alert(`Nilai Akhir Anda ${Math.round(nilaiTutorial + nilaiUas)}`)
      }
      console.info("tuweb")
    } else if (btn == "TMK") {
      const nilaiTutorial = parseInt(document.getElementById("tutorial").value) / 10 * 2
      if (nilaiUasAsli > Math.round(nilaiTutorial + nilaiUas)) {
        alert(`Nilai Akhir Anda ${nilaiUasAsli}`)
      } else {
        alert(`Nilai Akhir Anda ${Math.round(nilaiTutorial + nilaiUas)}`)
      }
      console.info("tmk")
    } else if (btn == "TTM"){
      const nilaiTutorial = parseInt(document.getElementById("tutorial").value) / 10 * 5
      if (nilaiUasAsli > Math.round(nilaiTutorial + nilaiUas)) {
        alert(`Nilai Akhir Anda ${nilaiUasAsli}`)
      } else {
        alert(`Nilai Akhir Anda ${Math.round(nilaiTutorial + nilaiUas)}`)
      }
      console.info("ttm")
    }
      
    
})

    document.getElementById("help").addEventListener("click", () => {
      event.preventDefault()
      document.getElementById("helper").style.display = "block"
    })
    document.getElementById("hitung").addEventListener("click", () => {
      event.preventDefault();
      let jumlahSoal = parseInt(document.getElementById("jumlahSoal").value);
      let jumlahBenar = parseInt(document.getElementById("jumlahBenar").value);

      console.info(jumlahBenar)

      if (jumlahSoal < jumlahBenar || jumlahSoal > 50) {
        alert("Input yang anda masukkan salah")
      } else {
        document.getElementById("uas").value = Math.round(jumlahBenar / jumlahSoal * 100);
      }
   

    })

  

  

    
</script>
</html>